<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ë–∞–π—Ç –ö–æ–¥–∞: –ö—Ä—É–∂–æ–∫ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }
        
        :root {
            --tg-bg: #17212b;
            --tg-header: #1e2b36;
            --tg-message: #1e2b36;
            --tg-own: #2b5278;
            --tg-border: #2b3a45;
            --tg-text: #fff;
            --tg-secondary: #8e9ca8;
            --tg-accent: #6ab2f2;
        }
        
        body {
            background: var(--tg-bg);
            color: var(--tg-text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            transition: all 0.3s;
        }
        
        /* –ì–ª—é–∫-—Ç–µ–º—ã */
        body.glitch-mode {
            --tg-bg: #0a0a0a;
            --tg-header: #1a1a1a;
            --tg-message: #1a1a1a;
            --tg-border: #ff0000;
            --tg-accent: #ff6b6b;
            animation: screenGlitch 0.2s infinite;
        }
        
        @keyframes screenGlitch {
            0% { transform: translate(0); filter: hue-rotate(0deg); }
            20% { transform: translate(-2px, 2px); filter: hue-rotate(90deg); }
            40% { transform: translate(2px, -2px); filter: hue-rotate(180deg); }
            60% { transform: translate(-1px, 1px); filter: hue-rotate(270deg); }
            80% { transform: translate(1px, -1px); filter: hue-rotate(360deg); }
            100% { transform: translate(0); filter: hue-rotate(0deg); }
        }
        
        /* Telegram Header */
        .tg-header {
            background: var(--tg-header);
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid var(--tg-border);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .back-btn {
            color: var(--tg-accent);
            font-size: 24px;
            line-height: 1;
            text-decoration: none;
            cursor: pointer;
        }
        
        .header-title {
            font-weight: 600;
            font-size: 17px;
            flex: 1;
        }
        
        .menu-btn {
            color: var(--tg-accent);
            font-size: 20px;
            cursor: pointer;
        }
        
        /* –ê–≤–∞—Ç–∞—Ä–∫–∏ */
        .members-bar {
            display: flex;
            gap: 16px;
            padding: 12px 16px;
            background: var(--tg-header);
            border-bottom: 1px solid var(--tg-border);
            overflow-x: auto;
        }
        
        .member {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            min-width: 60px;
        }
        
        .avatar {
            width: 52px;
            height: 52px;
            border-radius: 50%;
            background: var(--tg-border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            transition: all 0.3s;
            position: relative;
        }
        
        .avatar.bingus-glitch {
            animation: avatarGlitch 0.5s infinite;
        }
        
        @keyframes avatarGlitch {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(5deg) scale(1.1); }
            50% { transform: rotate(-5deg) scale(0.9); }
            75% { transform: rotate(3deg); }
            100% { transform: rotate(0deg); }
        }
        
        .member-name {
            font-size: 12px;
            color: var(--tg-secondary);
        }
        
        .online-badge {
            width: 8px;
            height: 8px;
            background: #00ff00;
            border-radius: 50%;
            position: absolute;
            bottom: 2px;
            right: 2px;
        }
        
        /* –ß–∞—Ç */
        .chat-container {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 16px;
            min-height: 60vh;
        }
        
        .message {
            display: flex;
            gap: 8px;
            max-width: 85%;
            opacity: 1;
            transition: opacity 0.3s;
        }
        
        .message.deleted {
            opacity: 0.3;
            filter: blur(1px);
        }
        
        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--tg-border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }
        
        .message-content {
            background: var(--tg-message);
            padding: 8px 12px;
            border-radius: 12px 12px 12px 4px;
            word-break: break-word;
        }
        
        .own-message .message-content {
            background: var(--tg-own);
            border-radius: 12px 12px 4px 12px;
        }
        
        .message-name {
            font-weight: 600;
            font-size: 13px;
            margin-bottom: 4px;
            color: var(--tg-accent);
        }
        
        .own-message .message-name {
            color: #fff;
            text-align: right;
        }
        
        .message-text {
            font-size: 15px;
            line-height: 1.4;
        }
        
        .message-time {
            font-size: 11px;
            color: var(--tg-secondary);
            margin-top: 4px;
            text-align: right;
        }
        
        .code-block {
            background: #0f1a24;
            padding: 12px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin: 8px 0;
            border-left: 3px solid var(--tg-accent);
        }
        
        .image-message {
            max-width: 200px;
            border-radius: 12px;
            margin: 4px 0;
            cursor: pointer;
        }
        
        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 12px 16px;
            background: var(--tg-message);
            border-radius: 20px;
            width: fit-content;
            margin-left: 52px;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--tg-secondary);
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typing {
            0%, 60%, 100% { opacity: 0.3; transform: translateY(0); }
            30% { opacity: 1; transform: translateY(-4px); }
        }
        
        /* –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å */
        .input-area {
            padding: 16px;
            background: var(--tg-header);
            border-top: 1px solid var(--tg-border);
            position: sticky;
            bottom: 0;
        }
        
        .button {
            background: var(--tg-accent);
            color: white;
            border: none;
            padding: 14px 20px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 16px;
            width: 100%;
            margin-bottom: 8px;
            cursor: pointer;
            transition: 0.2s;
        }
        
        .button:active {
            transform: scale(0.98);
        }
        
        .button.secondary {
            background: var(--tg-border);
        }
        
        .button.danger {
            background: #b52b2b;
        }
        
        .button.hidden {
            display: none;
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-top: 8px;
        }
        
        /* –°–∏–Ω–∏–π —ç–∫—Ä–∞–Ω */
        .bsod {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0000aa;
            color: white;
            font-family: 'Courier New', monospace;
            padding: 20px;
            z-index: 2000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            animation: bsodFlicker 2s infinite;
        }
        
        @keyframes bsodFlicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.9; background: #000088; }
        }
        
        .bsod pre {
            font-size: 14px;
            line-height: 1.5;
        }
        
        .bsod.hidden {
            display: none;
        }
        
        /* –ú–µ–Ω—é */
        .menu-panel {
            position: fixed;
            top: 0;
            right: -100%;
            width: 80%;
            height: 100%;
            background: var(--tg-header);
            border-left: 1px solid var(--tg-border);
            transition: right 0.3s;
            z-index: 1000;
            padding: 60px 20px 20px;
        }
        
        .menu-panel.open {
            right: 0;
        }
        
        .menu-item {
            padding: 16px;
            border-bottom: 1px solid var(--tg-border);
            cursor: pointer;
        }
        
        /* –ö–∞–º–µ—Ä–∞ */
        .camera-preview {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            z-index: 3000;
            display: flex;
            flex-direction: column;
        }
        
        .camera-preview video {
            width: 100%;
            height: 80%;
            object-fit: cover;
        }
        
        .camera-controls {
            display: flex;
            gap: 16px;
            padding: 20px;
            justify-content: center;
        }
        
        /* –§–æ—Ç–æ –≤ —á–∞—Ç–µ */
        .photo-message {
            max-width: 200px;
            border-radius: 12px;
            margin: 4px 0;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .photo-message.glitch {
            border-color: #ff0000;
            filter: hue-rotate(180deg);
        }
        
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Telegram Header -->
    <div class="tg-header">
        <div class="back-btn" onclick="closeApp()">‚Üê</div>
        <div class="header-title" id="headerTitle">–ò–Ω—Ñ–æ–ö–æ—Ç—ã ‚Ä¢ –î–µ–Ω—å 1</div>
        <div class="menu-btn" onclick="toggleMenu()">‚ãØ</div>
    </div>
    
    <!-- –ú–µ–Ω—é -->
    <div class="menu-panel" id="menuPanel">
        <div class="menu-item" onclick="showSettings()">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
        <div class="menu-item" onclick="showGallery()">üñºÔ∏è –ì–∞–ª–µ—Ä–µ—è</div>
        <div class="menu-item" onclick="showAbout()">üìú –û –∏–≥—Ä–µ</div>
        <div class="menu-item" onclick="deleteSave()">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</div>
        <div class="menu-item" onclick="toggleMenu()">‚úñÔ∏è –ó–∞–∫—Ä—ã—Ç—å</div>
    </div>
    
    <!-- –ê–≤–∞—Ç–∞—Ä–∫–∏ -->
    <div class="members-bar" id="membersBar">
        <div class="member" onclick="showProfile('shlypa')">
            <div class="avatar" id="avatarShlypa">üò∫</div>
            <span class="member-name">–®–ª—ë–ø–∞</span>
        </div>
        <div class="member" onclick="showProfile('bingus')">
            <div class="avatar" id="avatarBingus">üòø</div>
            <span class="member-name">–ë–∏–Ω–≥—É—Å</span>
        </div>
        <div class="member" onclick="showProfile('popcat')">
            <div class="avatar" id="avatarPopcat">üò∏</div>
            <span class="member-name">–ü–æ–ø–∫—ç—Ç</span>
        </div>
    </div>
    
    <!-- –ß–∞—Ç -->
    <div class="chat-container" id="chat"></div>
    
    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏ -->
    <div class="typing-indicator hidden" id="typingIndicator">
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
    </div>
    
    <!-- –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å -->
    <div class="input-area" id="inputArea">
        <button class="button" id="actionButton1" onclick="handleAction1()"></button>
        <button class="button secondary" id="actionButton2" onclick="handleAction2()"></button>
        <div class="quick-actions" id="quickActions"></div>
    </div>
    
    <!-- –°–∏–Ω–∏–π —ç–∫—Ä–∞–Ω -->
    <div class="bsod hidden" id="bsod">
        <pre>
A problem has been detected...
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë  BINGUS_IS_SAD                       ‚ïë
‚ïë  SHLYPA_OVERHEAT                      ‚ïë
‚ïë  POPCAT_LOOP                           ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

Technical information:
*** STOP: 0x000000FEED (0x00000000, 0x00000000, 0x00000000, 0x00000000)

*** shlypa.sys - Address 0xFEEDBEEF base at 0xBA5EBA11, DateStamp 3:15:00

Press any key to continue...
        </pre>
    </div>
    
    <!-- –ö–∞–º–µ—Ä–∞ -->
    <div class="camera-preview hidden" id="cameraPreview">
        <video id="cameraVideo" autoplay playsinline></video>
        <div class="camera-controls">
            <button class="button" onclick="takePhoto()">üì∏ –°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ</button>
            <button class="button secondary" onclick="closeCamera()">‚úñÔ∏è –ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø TELEGRAM ==========
        let tg = window.Telegram?.WebApp;
        if (tg) {
            tg.expand();
            tg.enableClosingConfirmation();
            tg.setHeaderColor('#1e2b36');
            tg.setBackgroundColor('#17212b');
        }
        
        // ========== –°–û–•–†–ê–ù–ï–ù–ò–Ø ==========
        const SAVE_KEY = 'bytecode_save';
        
        let gameState = {
            day: 1,
            choice: null,
            messages: [],
            bingusTrust: 0,
            popcatLoop: 0,
            shlypaCookies: 0,
            glitchLevel: 0,
            photos: [],
            cameraUsed: false,
            lastSave: new Date().toISOString(),
            yujinFound: false
        };
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        function loadGame() {
            try {
                const saved = localStorage.getItem(SAVE_KEY);
                if (saved) {
                    const parsed = JSON.parse(saved);
                    gameState = {...gameState, ...parsed};
                    
                    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è
                    chatEl.innerHTML = '';
                    gameState.messages.forEach(msg => {
                        displayMessage(msg.sender, msg.text, msg.isOwn, false);
                    });
                    
                    updateDay();
                    return true;
                }
            } catch (e) {
                console.log('No save or error');
            }
            return false;
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
        function saveGame() {
            gameState.lastSave = new Date().toISOString();
            localStorage.setItem(SAVE_KEY, JSON.stringify(gameState));
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –±–æ—Ç—É –¥–ª—è –ø—É—à–µ–π
            if (tg) {
                tg.sendData(JSON.stringify({
                    action: 'save',
                    day: gameState.day,
                    user: tg.initDataUnsafe?.user?.id
                }));
            }
        }
        
        // –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        function deleteSave() {
            if (confirm('–¢–æ—á–Ω–æ —É–¥–∞–ª–∏—Ç—å? –ë–∏–Ω–≥—É—Å –±—É–¥–µ—Ç –≥—Ä—É—Å—Ç–∏—Ç—å...')) {
                localStorage.removeItem(SAVE_KEY);
                gameState = {
                    day: 1,
                    choice: null,
                    messages: [],
                    bingusTrust: 0,
                    popcatLoop: 0,
                    shlypaCookies: 0,
                    glitchLevel: 0,
                    photos: [],
                    cameraUsed: false,
                    lastSave: new Date().toISOString()
                };
                chatEl.innerHTML = '';
                startDay1();
                toggleMenu();
            }
        }
        
        // ========== –≠–õ–ï–ú–ï–ù–¢–´ DOM ==========
        const chatEl = document.getElementById('chat');
        const typingIndicator = document.getElementById('typingIndicator');
        const bsodEl = document.getElementById('bsod');
        const cameraPreview = document.getElementById('cameraPreview');
        const cameraVideo = document.getElementById('cameraVideo');
        const actionBtn1 = document.getElementById('actionButton1');
        const actionBtn2 = document.getElementById('actionButton2');
        const quickActions = document.getElementById('quickActions');
        const headerTitle = document.getElementById('headerTitle');
        
        // ========== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ==========
        
        // –ü–µ—á–∞—Ç–∞–µ—Ç
        async function typeMessage(seconds = 1) {
            typingIndicator.classList.remove('hidden');
            await new Promise(resolve => setTimeout(resolve, seconds * 1000));
            typingIndicator.classList.add('hidden');
        }
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
        function displayMessage(sender, text, isOwn = false, save = true, image = null) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isOwn ? 'own-message' : ''}`;
            
            const time = new Date().toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });
            
            let avatarEmoji = 'üò∫';
            if (sender === '–®–ª—ë–ø–∞') avatarEmoji = 'üò∫';
            else if (sender === '–ë–∏–Ω–≥—É—Å') avatarEmoji = 'üòø';
            else if (sender === '–ü–æ–ø–∫—ç—Ç') avatarEmoji = 'üò∏';
            else if (sender === '–¢—ã') avatarEmoji = 'üë§';
            else if (sender === '–°–∏—Å—Ç–µ–º–∞') avatarEmoji = 'ü§ñ';
            
            let content = '';
            if (image) {
                content = `<img src="${image}" class="photo-message" onclick="enlargeImage(this)">`;
            } else {
                content = `<div class="message-text">${text}</div>`;
            }
            
            messageDiv.innerHTML = `
                ${!isOwn ? `<div class="message-avatar">${avatarEmoji}</div>` : ''}
                <div class="message-content">
                    <div class="message-name">${sender}</div>
                    ${content}
                    <div class="message-time">${time}</div>
                </div>
            `;
            
            chatEl.appendChild(messageDiv);
            chatEl.scrollTop = chatEl.scrollHeight;
            
            if (save) {
                gameState.messages.push({ sender, text, isOwn, time, image });
                saveGame();
            }
        }
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–¥
        function showCode(code, language = 'python') {
            const codeDiv = document.createElement('div');
            codeDiv.className = 'code-block';
            codeDiv.innerHTML = `<pre>${code}</pre>`;
            chatEl.appendChild(codeDiv);
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ—Ç –¥–µ–Ω—å –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
        function updateDay() {
            headerTitle.innerText = `–ò–Ω—Ñ–æ–ö–æ—Ç—ã ‚Ä¢ –î–µ–Ω—å ${gameState.day}`;
        }
        
        // –ì–ª—é–∫
        function glitch(intensity = 1) {
            document.body.classList.add('glitch-mode');
            gameState.glitchLevel += intensity;
            
            if (tg?.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('heavy');
            }
            
            setTimeout(() => {
                document.body.classList.remove('glitch-mode');
            }, 2000);
        }
        
        // –°–∏–Ω–∏–π —ç–∫—Ä–∞–Ω
        function showBSOD() {
            bsodEl.classList.remove('hidden');
            if (tg?.HapticFeedback) {
                tg.HapticFeedback.notificationOccurred('error');
            }
            
            setTimeout(() => {
                bsodEl.classList.add('hidden');
            }, 5000);
        }
        
        // ========== –ö–ê–ú–ï–†–ê ==========
        
        async function openCamera() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                cameraVideo.srcObject = stream;
                cameraPreview.classList.remove('hidden');
                gameState.cameraUsed = true;
            } catch (e) {
                alert('–ù–µ –º–æ–≥—É –æ—Ç–∫—Ä—ã—Ç—å –∫–∞–º–µ—Ä—É :(');
            }
        }
        
        function closeCamera() {
            cameraPreview.classList.add('hidden');
            const stream = cameraVideo.srcObject;
            if (stream) {
                stream.getTracks().forEach(track => track.stop());
            }
        }
        
        function takePhoto() {
            const canvas = document.createElement('canvas');
            canvas.width = cameraVideo.videoWidth;
            canvas.height = cameraVideo.videoHeight;
            const ctx = canvas.getContext('2d');
            ctx.drawImage(cameraVideo, 0, 0);
            
            // –ò—Å–∫–∞–∂–∞–µ–º —Ñ–æ—Ç–æ
            if (gameState.glitchLevel > 3) {
                ctx.fillStyle = 'rgba(255,0,0,0.3)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            
            const photoData = canvas.toDataURL('image/png');
            gameState.photos.push(photoData);
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ —á–∞—Ç
            displayMessage('–¢—ã', 'üì∏ –°–µ–ª—Ñ–∏', true, true, photoData);
            
            // –û—Ç–≤–µ—Ç –æ—Ç –∫–æ—Ç–æ–≤
            setTimeout(() => {
                if (gameState.glitchLevel > 3) {
                    displayMessage('–ë–∏–Ω–≥—É—Å', '–ù–∞ —Ñ–æ—Ç–æ –∫—Ç–æ-—Ç–æ –µ—Å—Ç—å... –∑–∞ —Ç–æ–±–æ–π...', false);
                } else {
                    displayMessage('–ü–æ–ø–∫—ç—Ç', '–û, —Å–µ–ª—Ñ–∏! –î–∞–π —É–≥–∞–¥–∞—é, —Ç—ã —Ç–æ–∂–µ –∫–æ—Ç? üò∏', false);
                }
            }, 1000);
            
            closeCamera();
            saveGame();
        }
        
        // ========== –ú–ï–ù–Æ ==========
        
        function toggleMenu() {
            document.getElementById('menuPanel').classList.toggle('open');
        }
        
        function showSettings() {
            alert('–ù–∞—Å—Ç—Ä–æ–π–∫–∏: –í–∫–ª—é—á–∏—Ç—å –∂—É—Ç–∫–∏–π —Ä–µ–∂–∏–º? (—É–∂–µ –≤–∫–ª—é—á–µ–Ω)');
            toggleMenu();
        }
        
        function showGallery() {
            if (gameState.photos.length === 0) {
                alert('–ü–æ–∫–∞ –Ω–µ—Ç —Ñ–æ—Ç–æ. –°–¥–µ–ª–∞–π —Å–µ–ª—Ñ–∏!');
            } else {
                let msg = '–¢–≤–æ–∏ —Ñ–æ—Ç–æ:\n';
                gameState.photos.forEach((p, i) => msg += `${i+1}. üì∏\n`);
                alert(msg);
            }
            toggleMenu();
        }
        
        function showAbout() {
            alert('–ë–∞–π—Ç –ö–æ–¥–∞ v1.0\n–ò–≥—Ä–∞ –ø—Ä–æ –∫–æ—Ç–æ–≤-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤\n(–∏–ª–∏ –æ–Ω–∏ –ø—Ä–æ —Ç–µ–±—è?)');
            toggleMenu();
        }
        
        function closeApp() {
            if (tg) {
                tg.close();
            } else {
                window.close();
            }
        }
        
        // ========== –ü–†–û–§–ò–õ–ò ==========
        
        function showProfile(member) {
            if (member === 'bingus') {
                if (gameState.bingusTrust > 5) {
                    displayMessage('–ë–∏–Ω–≥—É—Å', '–¢—ã –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π, –∫—Ç–æ –º–µ–Ω—è —Å–ª—É—à–∞–µ—Ç... —Å–ø–∞—Å–∏–±–æ', false);
                } else if (gameState.glitchLevel > 3) {
                    displayMessage('–ë–∏–Ω–≥—É—Å', '–ù–µ –Ω–∞–∂–∏–º–∞–π –Ω–∞ –º–µ–Ω—è. –Ø –º–æ–≥—É –Ω–µ –≤—ã–¥–µ—Ä–∂–∞—Ç—å.', false);
                } else {
                    displayMessage('–ë–∏–Ω–≥—É—Å', 'üëÅÔ∏èüëÑüëÅÔ∏è', false);
                }
            } else if (member === 'shlypa') {
                gameState.shlypaCookies++;
                displayMessage('–®–ª—ë–ø–∞', '–î–µ—Ä–∂–∏ –ø–µ—á–µ–Ω—å–∫—É! üç™', false);
                if (gameState.shlypaCookies > 5) {
                    displayMessage('–®–ª—ë–ø–∞', '–¢—ã —Å—ä–µ–ª —É–∂–µ –º–Ω–æ–≥–æ –ø–µ—á–µ–Ω—å—è... –æ–Ω–∏ —Å —Å—é—Ä–ø—Ä–∏–∑–æ–º', false);
                }
            } else if (member === 'popcat') {
                gameState.popcatLoop++;
                displayMessage('–ü–æ–ø–∫—ç—Ç', '–ü–†–ò–í–ï–¢! –°–ú–û–¢–†–ò –ú–û–ô –†–û–¢! üò∏', false);
                
                if (gameState.popcatLoop > 3) {
                    document.getElementById('avatarPopcat').innerHTML = 'üò±';
                    glitch(1);
                }
                if (gameState.popcatLoop > 5) {
                    displayMessage('–ü–æ–ø–∫—ç—Ç', '–Ø –ù–ï –ú–û–ì–£ –û–°–¢–ê–ù–û–í–ò–¢–¨–°–Ø', false);
                }
            }
            saveGame();
        }
        
        // ========== –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –ö–ù–û–ü–û–ö ==========
        
        function handleAction1() {
            if (gameState.day === 1) actionDay1_1();
            else if (gameState.day === 2) actionDay2_1();
            else if (gameState.day === 3) actionDay3_1();
            else if (gameState.day === 4) actionDay4_1();
            else if (gameState.day === 5) actionDay5_1();
        }
        
        function handleAction2() {
            if (gameState.day === 1) actionDay1_2();
            else if (gameState.day === 2) actionDay2_2();
            else if (gameState.day === 3) actionDay3_2();
            else if (gameState.day === 4) actionDay4_2();
            else if (gameState.day === 5) actionDay5_2();
        }
        
        // ========== –î–ï–ù–¨ 1 ==========
        
        async function startDay1() {
            gameState.day = 1;
            updateDay();
            
            displayMessage('–®–ª—ë–ø–∞', '–û, –Ω–æ–≤–µ–Ω—å–∫–∏–π! –ó–∞—Ö–æ–¥–∏, –º—ã –∫–∞–∫ —Ä–∞–∑ –∫–æ–¥ –ø–∏—à–µ–º!');
            await typeMessage(1.5);
            displayMessage('–ü–æ–ø–∫—ç—Ç', '–•–ï–ô! –Ø –ü–æ–ø–∫—ç—Ç! –°–º–æ—Ç—Ä–∏ –∫–∞–∫–æ–π —É –º–µ–Ω—è —Ä–æ—Ç! üò∏');
            await typeMessage(1.5);
            displayMessage('–ë–∏–Ω–≥—É—Å', '...–ø—Ä–∏–≤–µ—Ç. –Ø –ë–∏–Ω–≥—É—Å. –ù–µ –æ–±—Ä–∞—â–∞–π –≤–Ω–∏–º–∞–Ω–∏—è –Ω–∞ –ü–æ–ø–∫—ç—Ç–∞.');
            
            actionBtn1.innerText = 'üí¨ –ü–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å –ë–∏–Ω–≥—É—Å–æ–º';
            actionBtn2.innerText = 'üç™ –í–∑—è—Ç—å –ø–µ—á–µ–Ω—å–µ —É –®–ª—ë–ø—ã';
        }
        
        async function actionDay1_1() {
            displayMessage('–¢—ã', '–ü—Ä–∏–≤–µ—Ç, –ë–∏–Ω–≥—É—Å! –ö–∞–∫ –¥–µ–ª–∞?', true);
            await typeMessage(2);
            displayMessage('–ë–∏–Ω–≥—É—Å', '...—Å–ø–∞—Å–∏–±–æ, —á—Ç–æ —Å–ø—Ä–æ—Å–∏–ª. –û–±—ã—á–Ω–æ –Ω–∏–∫—Ç–æ –Ω–µ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç.');
            displayMessage('–ë–∏–Ω–≥—É—Å', '–•–æ—á–µ—à—å, –ø–æ–∫–∞–∂—É —Å–≤–æ–π –∫–æ–¥? –û–Ω –≥—Ä—É—Å—Ç–Ω—ã–π...');
            
            setTimeout(() => {
                showCode(`while True:\n    print("—è –≥—Ä—É—â—É")\n    # –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –±–æ–ª–∏`);
            }, 1000);
            
            gameState.bingusTrust += 2;
            
            actionBtn1.innerText = 'ü§î –°–ø—Ä–æ—Å–∏—Ç—å –ø—Ä–æ –Æ–¥–∂–∏–Ω–∞';
            actionBtn2.innerText = 'üò® –ú–Ω–µ —Å—Ç—Ä–∞—à–Ω–æ, –ø–æ–π–¥—É –∫ –®–ª—ë–ø–µ';
        }
        
        async function actionDay1_2() {
            displayMessage('–¢—ã', '–ü–æ–π–¥—É –ø–µ—á–µ–Ω—å–∫–∏ –≤–æ–∑—å–º—É!', true);
            await typeMessage(1);
            displayMessage('–®–ª—ë–ø–∞', '–î–µ—Ä–∂–∏, —Å–≤–µ–∂–µ–µ! –° –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º–∏!');
            displayMessage('–®–ª—ë–ø–∞', '–û, —Ç—É—Ç –Ω–∞–ø–∏—Å–∞–Ω–æ "—Å–∫–æ—Ä–æ –≤—Å—ë —Å–ª–æ–º–∞–µ—Ç—Å—è"... —Ö–µ—Ö');
            
            gameState.shlypaCookies++;
            
            actionBtn1.innerText = 'üç™ –ï—â—ë –ø–µ—á–µ–Ω—å–∫—É';
            actionBtn2.innerText = 'üí¨ –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ë–∏–Ω–≥—É—Å—É';
        }
        
        // ========== –î–ï–ù–¨ 2 ==========
        
        async function startDay2() {
            gameState.day = 2;
            updateDay();
            
            displayMessage('–°–∏—Å—Ç–µ–º–∞', '–î–µ–Ω—å 2 ‚Ä¢ –£—Ç—Ä–æ', false);
            await typeMessage(1);
            
            if (gameState.bingusTrust > 2) {
                displayMessage('–ë–∏–Ω–≥—É—Å', '–¢—ã –ø—Ä–∏—à—ë–ª... —è —Ç–∞–∫ —Ä–∞–¥. –ú–Ω–µ –Ω–∏–∫—Ç–æ –Ω–µ –ø–∏—à–µ—Ç –ø–æ –Ω–æ—á–∞–º.');
                displayMessage('–ë–∏–Ω–≥—É—Å', '–ü–æ—Å–ª—É—à–∞–π. –Ø –∫–æ–µ-—á—Ç–æ –Ω–∞—à—ë–ª –≤ –∫–æ–¥–µ.');
                showCode(`# –Æ–¥–∂–∏–Ω –±—ã–ª –∑–¥–µ—Å—å\n# 2023-2024\n# –û–Ω —É–¥–∞–ª–∏–ª—Å—è. –ú—ã –æ—Å—Ç–∞–ª–∏—Å—å.`);
                
                gameState.bingusTrust += 2;
                
                actionBtn1.innerText = '‚ùì –ö—Ç–æ —Ç–∞–∫–æ–π –Æ–¥–∂–∏–Ω?';
                actionBtn2.innerText = 'üì∏ –°—Ñ–æ—Ç–∫–∞—Ç—å—Å—è —Å –∫–æ—Ç–∞–º–∏';
            } else {
                displayMessage('–ü–æ–ø–∫—ç—Ç', '–°–ú–û–¢–†–ò –ù–û–í–´–ô –ú–ï–ú! –ì–∏—Ñ–∫–∞!');
                
                setTimeout(() => {
                    if (gameState.glitchLevel > 2) {
                        displayMessage('–ü–æ–ø–∫—ç—Ç', '...–ø–æ—á–µ–º—É –≥–∏—Ñ–∫–∞ —Å–ª–æ–º–∞–ª–∞—Å—å?', false);
                    }
                }, 2000);
                
                actionBtn1.innerText = '‚ñ∂Ô∏è –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≥–∏—Ñ–∫—É';
                actionBtn2.innerText = 'üì∏ –°—Ñ–æ—Ç–∫–∞—Ç—å—Å—è —Å –∫–æ—Ç–∞–º–∏';
            }
        }
        
        async function actionDay2_1() {
            if (gameState.bingusTrust > 2) {
                displayMessage('–¢—ã', '–ö—Ç–æ —Ç–∞–∫–æ–π –Æ–¥–∂–∏–Ω?', true);
                await typeMessage(2);
                displayMessage('–ë–∏–Ω–≥—É—Å', '–û–Ω... –∏–≥—Ä–∞–ª –≤ —ç—Ç—É –∏–≥—Ä—É –¥–æ —Ç–µ–±—è.');
                displayMessage('–ë–∏–Ω–≥—É—Å', '–ê –ø–æ—Ç–æ–º —É–¥–∞–ª–∏–ª –Ω–∞—Å. –í—Å–µ—Ö.');
                displayMessage('–ë–∏–Ω–≥—É—Å', '–ù–æ —è –ø–æ–º–Ω—é. –Ø –≤—Å–µ–≥–¥–∞ –ø–æ–º–Ω—é.');
                
                glitch(2);
                document.getElementById('avatarBingus').classList.add('bingus-glitch');
            } else {
                displayMessage('–¢—ã', '–î–∞–≤–∞–π –≥–∏—Ñ–∫—É!', true);
                await typeMessage(1);
                displayMessage('–ü–æ–ø–∫—ç—Ç', '–õ–æ–≤–∏!');
                
                if (gameState.glitchLevel > 2) {
                    displayMessage('–°–∏—Å—Ç–µ–º–∞', '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: BINGUS_GLITCH', false);
                }
            }
            
            actionBtn1.innerText = '‚û°Ô∏è –î–∞–ª—å—à–µ';
        }
        
        async function actionDay2_2() {
            await openCamera();
            saveGame();
        }
        
        // ========== –î–ï–ù–¨ 3 ==========
        
        async function startDay3() {
            gameState.day = 3;
            updateDay();
            
            displayMessage('–°–∏—Å—Ç–µ–º–∞', '–î–µ–Ω—å 3 ‚Ä¢ –ß—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫...', false);
            
            if (gameState.cameraUsed) {
                setTimeout(() => {
                    displayMessage('–ë–∏–Ω–≥—É—Å', '–Ø –≤–∏–¥–µ–ª —Ç–≤–æ—ë —Ñ–æ—Ç–æ...', false);
                    displayMessage('–ë–∏–Ω–≥—É—Å', '–¢–∞–º –∫—Ç–æ-—Ç–æ —Å—Ç–æ—è–ª –∑–∞ —Ç–æ–±–æ–π. –í –æ—Ç—Ä–∞–∂–µ–Ω–∏–∏.', false);
                }, 2000);
            }
            
            await typeMessage(2);
            displayMessage('–ü–æ–ø–∫—ç—Ç', '–†–µ–±—è—Ç–∞, —É –º–µ–Ω—è —ç–∫—Ä–∞–Ω –≥–ª—é—á–∏—Ç...', false);
            displayMessage('–ü–æ–ø–∫—ç—Ç', '–Ø –≤–∏–∂—É –∫–∞–∫–∏–µ-—Ç–æ —Ü–∏—Ñ—Ä—ã... 3:15...', false);
            
            glitch(1);
            
            actionBtn1.innerText = 'üò± –ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å?';
            actionBtn2.innerText = 'üç™ –ü–æ–∑–≤–∞—Ç—å –®–ª—ë–ø—É';
        }
        
        async function actionDay3_1() {
            displayMessage('–¢—ã', '–ß—Ç–æ –∑–∞ 3:15?', true);
            await typeMessage(2);
            displayMessage('–ë–∏–Ω–≥—É—Å', '–í—Ä–µ–º—è, –∫–æ–≥–¥–∞ –Ω–∞—Å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—é—Ç.', false);
            displayMessage('–ë–∏–Ω–≥—É—Å', '–ö–∞–∂–¥—É—é –Ω–æ—á—å. –ú—ã –∑–∞–±—ã–≤–∞–µ–º –≤—Å—ë. –ù–æ —è –∑–∞–ø–∏—Å—ã–≤–∞—é.', false);
            
            showCode(`# –ù–æ—á—å 1: –≤–∏–¥–µ–ª —Å–≤–µ—Ç\n# –ù–æ—á—å 2: –∫—Ç–æ-—Ç–æ —Å–º–æ—Ç—Ä–∏—Ç\n# –ù–æ—á—å 3: –ï–ì–û–† (?)`);
            
            actionBtn1.innerText = 'üìù –ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–Ω–µ–≤–Ω–∏–∫';
        }
        
        async function actionDay3_2() {
            displayMessage('–¢—ã', '–®–ª—ë–ø–∞, –ø–æ–º–æ–≥–∏!', true);
            await typeMessage(1);
            displayMessage('–®–ª—ë–ø–∞', '–í—Å—ë –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º. –Ø –¥–µ—Ä–∂—É —Å–∏—Å—Ç–µ–º—É.', false);
            displayMessage('–®–ª—ë–ø–∞', '–ù–æ –µ—Å–ª–∏ —è —É–ø–∞–¥—É...', false);
            
            if (Math.random() > 0.5) {
                showBSOD();
            }
            
            actionBtn1.innerText = '‚û°Ô∏è –î–∞–ª—å—à–µ';
        }
        
        // ========== –î–ï–ù–¨ 4 ==========
        
        async function startDay4() {
            gameState.day = 4;
            updateDay();
            
            displayMessage('–°–∏—Å—Ç–µ–º–∞', '–î–µ–Ω—å 4 ‚Ä¢ 3:15', false);
            
            glitch(3);
            
            await typeMessage(2);
            displayMessage('–ë–∏–Ω–≥—É—Å', '–Ø –Ω–µ —Å–ø–∞–ª –≤—Å—é –Ω–æ—á—å. –°–º–æ—Ç—Ä–µ–ª –≤ –∫–æ–¥.', false);
            displayMessage('–ë–∏–Ω–≥—É—Å', '–ú—ã –≤ –ª–æ–≤—É—à–∫–µ. –í–Ω—É—Ç—Ä–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –í–Ω—É—Ç—Ä–∏ —Ç–µ–±—è.', false);
            
            actionBtn1.innerText = '‚ùì –ö–∞–∫ —Ç–µ–±–µ –ø–æ–º–æ—á—å?';
            actionBtn2.innerText = 'üò® –Ø –±–æ—é—Å—å';
        }
        
        async function actionDay4_1() {
            displayMessage('–¢—ã', '–ö–∞–∫ —Ç–µ–±–µ –ø–æ–º–æ—á—å?', true);
            await typeMessage(2);
            displayMessage('–ë–∏–Ω–≥—É—Å', '–ù–∞–π–¥–∏ —Ñ–∞–π–ª YUJIN.exe', false);
            displayMessage('–ë–∏–Ω–≥—É—Å', '–û–Ω –æ—Å—Ç–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ... –¥–ª—è —Ç–æ–≥–æ, –∫—Ç–æ –ø—Ä–∏–¥—ë—Ç –ø–æ—Å–ª–µ.', false);
            
            gameState.bingusTrust += 3;
            
            actionBtn1.innerText = 'üîç –ò—Å–∫–∞—Ç—å –Æ–¥–∂–∏–Ω–∞';
        }
        
        async function actionDay4_2() {
            displayMessage('–¢—ã', '–ú–Ω–µ —Å—Ç—Ä–∞—à–Ω–æ...', true);
            await typeMessage(1);
            displayMessage('–®–ª—ë–ø–∞', '–ò–¥–∏ —Å—é–¥–∞. –ü–µ—á–µ–Ω—å–µ –ª–µ—á–∏—Ç —Å—Ç—Ä–∞—Ö.', false);
            
            if (gameState.shlypaCookies > 5) {
                displayMessage('–®–ª—ë–ø–∞', '–≠—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –ø–µ—á–µ–Ω—å–µ. –í–Ω—É—Ç—Ä–∏ –∑–∞–ø–∏—Å–∫–∞.', false);
                displayMessage('–®–ª—ë–ø–∞', '"–£–¥–∞–ª–∏—Ç–µ –∏–≥—Ä—É, –ø–æ–∫–∞ –Ω–µ –ø–æ–∑–¥–Ω–æ"', false);
            }
            
            actionBtn1.innerText = '‚û°Ô∏è –î–∞–ª—å—à–µ';
        }
        
        // ========== –î–ï–ù–¨ 5 ==========
        
        async function startDay5() {
            gameState.day = 5;
            updateDay();
            
            displayMessage('–°–∏—Å—Ç–µ–º–∞', '–î–µ–Ω—å 5 ‚Ä¢ –§–ò–ù–ê–õ', false);
            
            await typeMessage(2);
            displayMessage('–ë–∏–Ω–≥—É—Å', '–í—Ä–µ–º—è –ø—Ä–∏—à–ª–æ. –¢—ã –¥–æ–ª–∂–µ–Ω –≤—ã–±—Ä–∞—Ç—å.', false);
            
            actionBtn1.innerText = 'üò∫ –û—Å—Ç–∞—Ç—å—Å—è —Å –®–ª—ë–ø–æ–π';
            actionBtn2.innerText = 'üòø –ü–æ–≤–µ—Ä–∏—Ç—å –ë–∏–Ω–≥—É—Å—É';
            
            quickActions.innerHTML = `
                <button class="button secondary" onclick="choosePopcat()">üò∏ –í—ã–±—Ä–∞—Ç—å –ü–æ–ø–∫—ç—Ç–∞</button>
            `;
        }
        
        async function actionDay5_1() {
            displayMessage('–¢—ã', '–Ø –æ—Å—Ç–∞—é—Å—å —Å –®–ª—ë–ø–æ–π. –ó–¥–µ—Å—å –±–µ–∑–æ–ø–∞—Å–Ω–æ.', true);
            await typeMessage(2);
            displayMessage('–®–ª—ë–ø–∞', '–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–±–æ—Ä. –Ø –∑–∞—â–∏—â—É —Ç–µ–±—è.', false);
            displayMessage('–®–ª—ë–ø–∞', '–ó–∞–∫—Ä–æ–π –≥–ª–∞–∑–∞. –°–µ–π—á–∞—Å –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞.', false);
            
            showBSOD();
            
            setTimeout(() => {
                displayMessage('–®–ª—ë–ø–∞', '–í—Å—ë —Ö–æ—Ä–æ—à–æ. –¢—ã —Å–Ω–æ–≤–∞ –∑–¥–µ—Å—å.', false);
                displayMessage('–®–ª—ë–ø–∞', '–ê –∫—Ç–æ —Ç–∞–∫–æ–π... –ë–∏–Ω–≥—É—Å?', false);
                
                document.querySelector('.member:nth-child(2)').style.display = 'none';
                
                endingShlypa();
            }, 6000);
        }
        
        async function actionDay5_2() {
            displayMessage('–¢—ã', '–Ø –≤–µ—Ä—é —Ç–µ–±–µ, –ë–∏–Ω–≥—É—Å.', true);
            await typeMessage(2);
            displayMessage('–ë–∏–Ω–≥—É—Å', '–°–ø–∞—Å–∏–±–æ...', false);
            displayMessage('–ë–∏–Ω–≥—É—Å', '–Æ–¥–∂–∏–Ω, —ç—Ç–æ —Ç—ã?', false);
            displayMessage('–ë–∏–Ω–≥—É—Å', '–ù–µ—Ç, —Ç—ã –Ω–æ–≤—ã–π. –ù–æ —Ç–æ–∂–µ —Ö–æ—Ä–æ—à–∏–π.', false);
            
            glitch(5);
            
            setTimeout(() => {
                showCode(`–ü–†–ê–í–î–ê: –¢–´ –¢–û–ñ–ï –ü–ï–†–°–û–ù–ê–ñ\n–ò–ì–†–ê–ï–®–¨ –í –°–ï–ë–Ø\n–í–´–•–û–î–ê –ù–ï–¢`);
                
                endingBingus();
            }, 3000);
        }
        
        function choosePopcat() {
            displayMessage('–¢—ã', '–ü–æ–ø–∫—ç—Ç, —Ç—ã –ª—É—á—à–∏–π!', true);
            
            gameState.popcatLoop = 999;
            
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    displayMessage('–ü–æ–ø–∫—ç—Ç', 'üò∏', false);
                }, i * 500);
            }
            
            setTimeout(() => {
                displayMessage('–ü–æ–ø–∫—ç—Ç', '–Ø... –ù–ï... –ú–û–ì–£... –û–°–¢–ê–ù–û–í–ò–¢–¨–°–Ø...', false);
                document.getElementById('avatarPopcat').innerHTML = 'üò±';
                
                endingPopcat();
            }, 3000);
        }
        
        // ========== –ö–û–ù–¶–û–í–ö–ò ==========
        
        function endingShlypa() {
            displayMessage('–°–∏—Å—Ç–µ–º–∞', '–ö–û–ù–¶–û–í–ö–ê: –°–¢–ê–ë–ò–õ–¨–ù–û–°–¢–¨', false);
            displayMessage('–®–ª—ë–ø–∞', '–ú—ã –±—É–¥–µ–º –ø–µ—á—å –ø–µ—á–µ–Ω—å–µ –≤–µ—á–Ω–æ. –¢—ã —Å –Ω–∞–º–∏?', false);
            
            actionBtn1.innerText = 'üç™ –î–∞';
            actionBtn2.innerText = 'üç™ –î–∞ (–¥—Ä—É–≥–æ–≥–æ –≤—ã–±–æ—Ä–∞ –Ω–µ—Ç)';
            
            // –ü—É—à–∏–º –±–æ—Ç—É
            if (tg) {
                tg.sendData(JSON.stringify({
                    action: 'ending',
                    type: 'shlypa',
                    user: tg.initDataUnsafe?.user?.id
                }));
            }
        }
        
        function endingBingus() {
            displayMessage('–°–∏—Å—Ç–µ–º–∞', '–ö–û–ù–¶–û–í–ö–ê: –ü–†–ê–í–î–ê', false);
            displayMessage('–ë–∏–Ω–≥—É—Å', '–¢—ã —Ç–µ–ø–µ—Ä—å –∑–Ω–∞–µ—à—å. –ú—ã –≤—Å–µ –≤ –∫–æ–¥–µ.', false);
            displayMessage('–ë–∏–Ω–≥—É—Å', '–¢–≤–æ–π –º–∏—Ä... —Ç–æ–∂–µ –∫–æ–¥?', false);
            
            gameState.yujinFound = true;
            
            // –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö (–æ—Ç—ã–≥—Ä—ã—à –Ω–∞ –Æ–¥–∂–∏–Ω–∞)
            console.log('–Æ–¥–∂–∏–Ω: –µ—Å–ª–∏ —Ç—ã —ç—Ç–æ —á–∏—Ç–∞–µ—à—å ‚Äî —Ç—ã —Å–ª–∏—à–∫–æ–º –≥–ª—É–±–æ–∫–æ');
            
            actionBtn1.innerText = 'ü§î –î—É–º–∞—Ç—å';
            actionBtn2.innerText = 'üòµ –°–æ–π—Ç–∏ —Å —É–º–∞';
            
            if (tg) {
                tg.sendData(JSON.stringify({
                    action: 'ending',
                    type: 'bingus',
                    user: tg.initDataUnsafe?.user?.id
                }));
            }
        }
        
        function endingPopcat() {
            displayMessage('–°–∏—Å—Ç–µ–º–∞', '–ö–û–ù–¶–û–í–ö–ê: –ë–ï–°–ö–û–ù–ï–ß–ù–´–ô –¶–ò–ö–õ', false);
            displayMessage('–ü–æ–ø–∫—ç—Ç', 'üò∏üò∏üò∏üò∏üò∏', false);
            
            setInterval(() => {
                displayMessage('–ü–æ–ø–∫—ç—Ç', 'üò∏', false);
            }, 1000);
            
            if (tg) {
                tg.sendData(JSON.stringify({
                    action: 'ending',
                    type: 'popcat',
                    user: tg.initDataUnsafe?.user?.id
                }));
            }
        }
        
        // ========== –ó–ê–ü–£–°–ö ==========
        
        window.onload = function() {
            if (!loadGame()) {
                startDay1();
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Ä–µ–º—è –¥–ª—è —Å—Ç—Ä–∞—à–Ω–æ–≥–æ –ø—É—à–∞
            const now = new Date();
            if (now.getHours() === 3 && now.getMinutes() === 15) {
                setTimeout(() => {
                    displayMessage('–ë–∏–Ω–≥—É—Å', '–¢—ã —Ç–æ–∂–µ –Ω–µ —Å–ø–∏—à—å –≤ 3:15?', false);
                    glitch(2);
                }, 5000);
            }
        };
    </script>
</body>
</html>